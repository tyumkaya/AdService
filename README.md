# Сервис рекламных площадок

Веб-сервис для хранения и поиска рекламных площадок по регионам (локациям).  
Все данные хранятся в памяти, поиск работает максимально быстро.  

---

## Возможности
- Загрузка рекламных площадок из файла (перезаписывает все данные).
- Получение списка площадок для заданной локации.
- Поддержка вложенности локаций (например `/ru/svrd/revda` вложена в `/ru/svrd`).
- Юнит-тесты для ключевых компонентов.
- Хранение данных только в оперативной памяти (in-memory).

---

## Требования
- .NET 8.0 SDK
---

## Запуск сервиса

### Через командную строку
```bash
git clone https://github.com/tyumkaya/AdService.git
```
```bash
cd AdService
```
```bash
dotnet run --project AdService
```

Сервис будет доступен по умолчанию на http://localhost:5141 или https://localhost:7266

## REST API
### 1. Загрузка рекламных площадок
Загружает рекламные площадки из текстового файла
```bash
curl -X POST http://localhost:5141/ads/upload -F "file=@data.txt"
```

### 2. Получение рекламных площадок по локации
Возвращает список всех рекламных площадок, которые подходят для указанной локации.
```bash
curl "http://localhost:5141/ads/search?location=/ru/svrd/revda"
```

## Юнит-тесты
Тесты (опционально) лежат в проекте AdService.Tests и проверяют:
- Корректную загрузку файла
- Поиск рекламных площадок по разным локациям
- Работа сервиса с некорректными входными данными

Запуск тестов:

```bash
dotnet test
```
